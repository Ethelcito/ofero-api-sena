<!DOCTYPE html>
<html lang="es">
<head id="top"> <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ofero - Veh√≠culos El√©ctricos DE SEBAS</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <script>
        const cssCode = `
            * {margin:0; padding:0; box-sizing:border-box; font-family: 'Segoe UI', sans-serif; scroll-behavior: smooth;} /* Scroll suave */
            body {background:#fdfdfd; color:#333; line-height:1.6;}
            header {display:flex; justify-content:space-between; align-items:center; padding:15px 40px; background:#12be20; box-shadow:0 2px 5px rgba(0,0,0,0.1); position:sticky; top:0; z-index:1000;}
            header .logo {display:flex; align-items:center; gap:10px; font-size:1.5rem; font-weight:bold; color:#222; cursor: pointer;} /* Cursor para indicar que es clickeable */
            nav ul {list-style:none; display:flex; gap:20px;}
            nav a {text-decoration:none; color:#333; font-weight:500;}
            .socials a {color:#333; margin-left:10px; font-size:1.2rem;}
            .hero {display:flex; flex-direction:column; align-items:center; text-align:center; padding:40px 20px; background:#f9f9f9;}
            .hero img {max-width:90%; border-radius:10px; margin-top:20px;}
            .btn {display:inline-block; margin-top:15px; padding:10px 20px; background:#4CAF50; color:#fff; border-radius:25px; text-decoration:none; transition:0.3s;}
            .btn:hover {background:#45a049;}
            section {padding:60px 20px; max-width:1100px; margin:auto;}
            h2 {text-align: center; margin-bottom: 40px; font-size: 2.5rem; color: #12be20;} /* Estilo para t√≠tulos de secci√≥n */
            
            /* ESTILOS DE PRODUCTO Y ANIMACI√ìN HOVER */
            .product-grid {
                display: flex; 
                flex-wrap: wrap;
                justify-content: center; /* Centrar productos */
                gap: 30px;
            }
            .product {
                display:flex; flex-wrap:wrap; align-items:center; margin-bottom:60px;
                padding: 20px; 
                border-radius: 10px;
                background: #fff; /* Fondo blanco para destacar la sombra */
                transition: transform 0.3s ease, box-shadow 0.3s ease; 
                max-width: 900px; /* Limitar ancho del producto */
            }
            .product:hover {
                transform: translateY(-5px) scale(1.01); 
                box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1); 
            }
            .product-service { /* Estilo para tarjetas de servicio */
                display: flex;
                flex-direction: column;
                align-items: center;
                text-align: center;
                padding: 20px;
                border: 1px solid #ddd;
                border-radius: 8px;
                background: #fff;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
                transition: transform 0.3s ease;
                max-width: 300px;
                width: 100%;
            }
            .product-service h3 {
                color: #4CAF50;
                margin-top: 10px;
            }

            .product img {flex:1; max-width:300px; margin:auto;}
            .product-content {flex:2; padding:20px;}
            .product-content h2 {color:#4CAF50; font-size:2rem; margin-bottom:10px;}
            .price {font-size:1.5rem; font-weight:bold; margin-top:10px;}
            .price del {color:red; margin-right:10px;}
            .price ins {color:#4CAF50; text-decoration:none;}
            .cta {background:#111; color:#fff; text-align:center; padding:50px 20px;}
            .cta a {background:#fff; color:#111; font-weight:bold; padding:10px 20px; border-radius:5px; text-decoration:none;}
            footer {background:#222; color:#fff; text-align:center; padding:20px;}
            @media(max-width:768px){
                .product {flex-direction:column; text-align:center;}
                header {flex-direction:column; gap:10px;}
            }
        `;
        const style = document.createElement('style');
        style.type = 'text/css';
        style.appendChild(document.createTextNode(cssCode));
        document.head.appendChild(style);
    </script>
</head>
<body>
    <header>
        <div class="logo"><a href="#top" style="text-decoration: none; color: inherit;"><i class="fa-solid fa-motorcycle"></i> Ofero</a></div>
        <nav>
            <ul>
                <li><a href="#top">Inicio</a></li> <li><a href="#servicios">Servicio T√©cnico</a></li> <li><a href="#productos">Veh√≠culos El√©ctricos</a></li>
            </ul>
        </nav>
        <div class="socials">
            <a href="#"><i class="fa-brands fa-instagram"></i></a>
            <a href="#"><i class="fa-brands fa-whatsapp"></i></a>
            <a href="#"><i class="fa-brands fa-facebook"></i></a>
        </div>
    </header>

    <section class="hero">
        <h1>Hay una Ofero dise√±ada para ti üöÄ</h1>
        <p>Conoce todos nuestros modelos. Movilidad sin complicaciones y con ahorro garantizado.</p>
        <a href="#productos" class="btn">Ver Modelos</a>
        <img src="https://oferocol.com/wp-content/uploads/2024/10/Recurso-2.png" alt="Moto el√©ctrica">
    </section>

    <section id="productos">
        <h2>Nuestros Veh√≠culos El√©ctricos</h2>
        <div class="product-grid" id="productos-grid">
            </div>
    </section>

    <section id="servicios">
        <h2>Servicio T√©cnico y Mantenimiento</h2>
        <div class="product-grid" id="servicios-grid">
            </div>
    </section>

    <section class="cta">
        <h2>¬øQuieres tener tu Ofero?</h2>
        <p>Visita nuestras tiendas o comun√≠cate con nuestros asesores para brindarte toda la informaci√≥n que necesites.</p>
        <br>
        <a href="https://wa.me/573107962559" target="_blank"><i class="fa-brands fa-whatsapp"></i> Visitar Tienda</a>
    </section>

    <footer>
        <p>¬© 2025 Ofero. Todos los derechos reservados a sebastian.</p>
    </footer>

    <script>
        // =======================================================================
        // L√ìGICA DE POO PARA PRODUCTOS (VEH√çCULOS)
        // =======================================================================

        class ProductRenderer {
            constructor(product) {
                this.product = product;
            }

            render() {
                const productDiv = document.createElement('div');
                productDiv.className = 'product';

                const price = this.product.price.toLocaleString('es-CO');
                
                // L√ìGICA DE IM√ÅGENES
                let imageUrl = "https://via.placeholder.com/300x200?text=IMAGEN+NO+ENCONTRADA";

                switch (this.product.name) {
                    case "Ledo 2":
                        imageUrl = "https://oferocol.com/wp-content/uploads/2025/03/Mesa-de-trabajo-1_2@2x.png";
                        break;
                    case "Ledo 3":
                        imageUrl = "https://oferocol.com/wp-content/uploads/2025/03/Mesa-de-trabajo-1_3@2x.png";
                        break;
                    case "Stareer 2":
                        imageUrl = "https://oferocol.com/wp-content/uploads/2025/02/Stareer-2-1.webp";
                        break;
                    default:
                        imageUrl = `https://via.placeholder.com/300x200?text=${this.product.name.replace(' ', '+')}`;
                        break;
                }
                
                // L√ìGICA DEL BOT√ìN DE WHATSAPP CON MENSAJE PREESCRITO
                const phoneNumber = '573107962559'; // N√∫mero de contacto
                const message = encodeURIComponent(`¬°Hola! Estoy interesado en comprar la ${this.product.name}. Por favor, dame m√°s informaci√≥n.`);
                const whatsappLink = `https://wa.me/${phoneNumber}?text=${message}`;


                const htmlContent = `
                    <img src="${imageUrl}" alt="${this.product.name}">
                    <div class="product-content">
                        <h2>${this.product.name}</h2>
                        <p>${this.product.description}</p>
                        <p class="price">Precio: <ins>$${price}</ins></p>
                        
                        <a href="${whatsappLink}" target="_blank" class="btn">
                            <i class="fa-brands fa-whatsapp"></i> Comprar por WhatsApp
                        </a>
                    </div>
                `;
                
                productDiv.innerHTML = htmlContent;
                return productDiv;
            }
        }

        // FUNCI√ìN PRINCIPAL DE CONEXI√ìN Y RENDERIZADO DE PRODUCTOS
        function fetchAndRenderProducts() {
            const productsGrid = document.getElementById('productos-grid');
            
            // Conexi√≥n a la API (Endpoint de productos)
            fetch('https://ofero-api-sena.onrender.com/api/productos')
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`Error HTTP: ${response.status}`);
                    }
                    return response.json();
                })
                .then(products => {
                    productsGrid.innerHTML = ''; // Limpiar
                    
                    products.forEach(productData => {
                        const renderer = new ProductRenderer(productData);
                        productsGrid.appendChild(renderer.render());
                    });
                })
                .catch(error => {
                    console.error('ERROR AL CONECTAR LA API DE PRODUCTOS:', error);
                    productsGrid.innerHTML = '<p style="text-align:center; color:red; font-size:1.2rem;">‚ùå Error: La API de veh√≠culos est√° inactiva o inalcanzable.</p>';
                });
        }


        // =======================================================================
        // L√ìGICA DE POO PARA SERVICIOS (SERVICIO T√âCNICO)
        // =======================================================================
        
        class ServiceRenderer {
            constructor(service) {
                this.service = service;
            }

            render() {
                const serviceDiv = document.createElement('div');
                serviceDiv.className = 'product-service'; // Usamos una clase diferente para el estilo

                const price = this.service.price.toLocaleString('es-CO');
                
                const htmlContent = `
                    <i class="fa-solid fa-wrench" style="font-size: 3rem; color: #4CAF50;"></i>
                    <h3>${this.service.name}</h3>
                    <p>${this.service.description}</p>
                    <p class="price" style="margin-top: 5px;">Precio: <ins>$${price}</ins></p>
                `;
                
                serviceDiv.innerHTML = htmlContent;
                return serviceDiv;
            }
        }

        // FUNCI√ìN PRINCIPAL DE CONEXI√ìN Y RENDERIZADO DE SERVICIOS
        function fetchAndRenderServices() {
            const servicesGrid = document.getElementById('servicios-grid');
            
            // Conexi√≥n a la API (Endpoint de servicios)
            fetch('https://ofero-api-sena.onrender.com/api/servicios')
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`Error HTTP: ${response.status}`);
                    }
                    return response.json();
                })
                .then(services => {
                    servicesGrid.innerHTML = ''; // Limpiar
                    
                    services.forEach(serviceData => {
                        const renderer = new ServiceRenderer(serviceData);
                        servicesGrid.appendChild(renderer.render());
                    });
                })
                .catch(error => {
                    console.error('ERROR AL CONECTAR LA API DE SERVICIOS:', error);
                    servicesGrid.innerHTML = '<p style="text-align:center; color:red; font-size:1.2rem;">‚ùå Error: La API de servicios t√©cnicos est√° inactiva o inalcanzable.</p>';
                });
        }


        // =======================================================================
        // EJECUCI√ìN AL CARGAR LA P√ÅGINA
        // =======================================================================

        document.addEventListener('DOMContentLoaded', () => {
            fetchAndRenderProducts();
            fetchAndRenderServices(); // Cargamos ambos endpoints
        });

    </script>
</body>
</html>


